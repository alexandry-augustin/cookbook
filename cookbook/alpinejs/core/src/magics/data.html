<!-- https://alpinejs.dev/magics/data -->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>$data</title>
</head>
<body>

	<h1>Component -> JS</h1>

	<div x-data="{ val_0: 'abc' }">
		<div x-data="{ val_1: '789' }"></div>
		<div x-data="{ val_2: '123' }">
			<button @click="showData($data)">Show x-data</button>
		</div>
	</div>
	 
	<script>
		function showData(data) {
			// val_1 is 'undefined' as it is out of scope
			alert(`x-data: { ${data.val_0}, ${data.val_1}, ${data.val_2} }`)
		}
	</script>

	<h1>JS -> Component</h1>

	<script>
		window.toggleModalBox = function() {
			let data = Alpine.evaluate(document.getElementById('modalBox'), '$data');
			data.open ^= true;
		}
	</script>
	<button onclick="toggleModalBox()">Toggle</button>
    <div id="modalBox" x-data="{open: false}">
        <div>
            <div x-show="open" id="modal">
                Content
            </div>
        </div>
    </div>

	<script type='text/javascript' charset='utf-8' src='../alpinejs.3.13.2.cdn.min.js'></script>
</body>
</html>
